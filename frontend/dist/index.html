<!DOCTYPE html>
<html>

<head>
  <title>Checkers Game Application</title>
</head>

<script type="module">
  import init, { AlphaBeta, CheckerGameState } from './without/without_a_bundler.js';

  async function run() {
    await init();
    debugger;

    window.RustAlphaBeta = AlphaBeta;
    window.rustCheckerGameStateInstance = new CheckerGameState();
    window.rustAlphaBetaInstance = new RustAlphaBeta(3, "black");

    // Memory testing.
    // const request = await fetch(rustLocation);
    // const wasmBuffer = await request.arrayBuffer();
    // const wasm = await WebAssembly.instantiate(wasmBuffer, importObj);
    // const { memory } = wasm.instance.exports;
    // memory.grow(Math.ceil(imgSize / (1 << 16)) * 2);
    // window.red_checker_list_raw = new Uint8ClampedArray(
    //   memory.buffer,
    //   window.rust_checker.red_checker_list_offset(),
    //   window.rust_checker.red_checker_list_size()
    // );


    console.log(`1 + 2 = ${result}`);
  }
  run();
</script>

<body>
  <div id="root"></div>
  <script src="./bundle.js"></script>
</body>

</html>